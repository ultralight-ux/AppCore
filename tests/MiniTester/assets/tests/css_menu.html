<html>
<head>
  <style>
  body { margin: 0; padding: 0; }
  .menu {
    display: inline-block;
    box-shadow: 0px 3px 4px rgba(0, 0, 0, 0.3);
    background-color: white;
    font: 0.875em -apple-system, Helvetica, Arial, sans-serif;
    border: 1px solid #777;
    cursor: default;
    margin: 0;
    margin-top: 8px;
    margin-left: 8px;
  }

  .item {
    padding: 0 5.4em 0 1.4em;
  }

  .item:hover, .selected {
    background-color: DodgerBlue;
    color: white;
  }
  
  </style>
</head>
<body id="selectContainer">
  <div id="menu" class="menu">
  </div>

  <script type="text/javascript">
  var menu = document.getElementById('menu');

  function addItem(item, index) {
    var ele = document.createElement('div');
    ele.dataset['index'] = index;
    ele.innerText = item.text;
    ele.classList.add(...item.classList);   
    menu.appendChild(ele);
  }

  function updateMenu(items) {
    menu.innerHTML = "";
    items.forEach(addItem);

    // Offset of menu (menu's margin-left, margin-top)
    var offsetX = -8;
    var offsetY = -8;
    
    // measure new area and return dimensions and offset
    return [ menu.scrollWidth + 16, menu.scrollHeight + 16, offsetX, offsetY ];
  }

  updateMenu([{'text': "Hello", 'classList': ['item']}, {'text': "Apple", 'classList': ['item']}, {'text': "Banana", 'classList': ['item']}]);
  </script>
</body>
</html>